# Dockerfile 

## 📁 Dockerfile

Docker 이미지를 빌드하기 위한 설정 파일이다.

Dockerfile에 기술된 지시사항을 순서대로 실행하여 Docker 이미지가 생성된다.

(비유) Dockerfile은 레시피이다. Docker 이미지를 만드는 데 필요한 '재료(코드, 라이브러리, 환경 변수 등)'와 '조리법(명령어 실행 순서)'을 제공한다. 또한 레시피를 바꾸더라도 기존에 만든 음식에 변화가 없는 것 처럼 Dockerfile을 변경하더라도 기존에 생성된 컨테이너에는 영향을 주지 않는다. 

### 📝 Dockerfile 구성

| 명령 | 의미 | 설명 |
| --- | --- | --- |
| FROM | 베이스 이미지 지정 | 이미지 빌드 과정에서 사용할 기반 의미지 정의 (운영체제 이미지 등) |
| LABEL | 라벨 설정 | 이미지의 메타데이터를 추가 (버전 정보, 관리자 연락처 등) |
| ARG | Dockerfile 안의 변수 | 이미지 빌드 시점의 값을 설정할 수 있는 변수를 정의 |
| ENV | 환경 변수 | 컨테이너 내에서 사용할 환경 변수 설정 |
| RUN | 명령 실행 | 이미지 빌드 과정에서 필요한 명령 실행(패키지 설치 등) |
| ADD | 파일/디렉토리 추가 | 원격 URL, 로컬 시스템의 파일, 디렉토리를 이미지에 추가 |
| COPY | 파일 복사 | 로컬 시스템의 파일, 디렉토리를 이미지에 복사 |
| WORKDIR | 작업 디렉토리 | 명령어 실행을위한 작업 디렉토리 설정 |
| USER | 사용자 지정 | 명령어를 실행할 사용자 지정 |
| VOLUME | 볼륨 마운트 | 외부 저장소와 데이터를 공유하기 위한 볼륨 정의 |
| EXPOSE | 포트 노출 | 컨테이너가 리스닝 할 포트 지정 |
| HEALTHCHECK | 컨테이너의 상태 체크 | 컨테이너가 정상적으로 작동하는지 주기적으로 체크 |
| ENTRYPOINT | 컨테이너 시작 시 실행할 명령  | 컨테이너가 실행 될 때 항상, 필수적으로 실행되어야 하는 명령 
사용자가 명령 지정 시 ENTRYPOINT 명령의 확장으로 사용   |
| CMD | 컨테이너 시작 시 실행할 명령 | 컨테이너의 기본 실행 명령을 제공
사용자가 다른 명령 지정 시 오버라이드 되어 기본 명령이 대체됨 |
| ONBUILD | 빌드 완료 후 실행되는 명령 | 해당 이미지를 기반으로 하는 다른 이미지가 빌드될 때 실행할 명령 |
| STOPSIGNAL | 종료 시그널 설정 | 컨테이너를 종료하기 위해 보내는 시그널 설정  |
| SHELL | 기본 쉘 설정 | RUN, CMD, ENTRYPOINT 실행 시 사용할 기본 쉘 설정 |

### 📝 Dockerfile 사용 명령어

```bash
# 경로 디렉토리의 Dockerfile을 사용하여 이미지로 빌드 (-t : 태그명 추가)
docker build (-t 태그명) {경로}
```